Index: app/views/layouts/_sidebar.html.erb
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>  <aside class=\"main-sidebar elevation-4 sidebar-light-olive\">\n    <!-- Brand Logo -->\n    <a href=\"<%= root_path %>\" class=\"brand-link\">\n      <img src=\"\" alt=\"Logo\" class=\"brand-image img-circle elevation-3\" style=\"opacity: .9\">\n      <span class=\"brand-text font-weight-bold text-decoration-none text-red text-bold nav-link:hover{color:red;}\">Quản\n        Lý Đơn Hàng</span>\n    </a>\n\n    <!-- Sidebar -->\n    <div\n      class=\"sidebar os-host os-host-overflow os-host-overflow-y os-host-resize-disabled os-host-transition os-theme-dark os-host-scrollbar-horizontal-hidden\">\n      <!-- Sidebar user panel (optional) -->\n      <div class=\"user-panel mt-3 pb-3 mb-3 d-flex\">\n        <div class=\"image\">\n          <img src=\"https://avatars.dicebear.com/api/adventurer/<%= rand(1..10)%>.svg\" class=\"img-circle elevation-2\"\n            alt=\"User Image\">\n        </div>\n        <div class=\"info\">\n          <a href=\"#\" class=\"d-block\">User NAME</a>\n        </div>\n      </div>\n\n      <!-- SidebarSearch Form -->\n      <%# <div class=\"form-inline\">\n        <div class=\"input-group\" data-widget=\"sidebar-search\">\n          <input class=\"form-control form-control-sidebar\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\">\n          <div class=\"input-group-append\">\n            <button class=\"btn btn-sidebar\">\n              <i class=\"fas fa-search fa-fw\"></i>\n            </button>\n          </div>\n        </div>\n      </div> %>\n      <!-- /SidebarSearch Form -->\n\n      <!-- Sidebar Menu -->\n      <nav class=\"mt-2\">\n        <ul class=\"nav nav-pills nav-sidebar flex-column\" data-widget=\"treeview\" role=\"menu\" data-accordion=\"false\">\n          <!-- Add icons to the links using the .nav-icon class\n               with font-awesome or any other icon font library -->\n          <li class=\"nav-item nitem1\">\n            <a href=\"<%= root_path %>\" id=\"side-home\" class=\"nav-link \">\n              <i class=\"nav-icon fas fa-tachometer-alt\"></i>\n              <p>\n                Trang Chủ\n              </p>\n            </a>\n          </li>\n\n          <li class=\"nav-item nitem2\">\n            <a href=\"#\" id=\"side_order_menu\" class=\"nav-link\">\n              <i class=\"nav-icon fas fa-tachometer-alt\"></i>\n              <p>\n                Đơn Hàng\n                <i class=\"right fas fa-angle-left\"></i>\n              </p>\n            </a>\n            <ul class=\"nav nav-treeview\">\n              <li class=\"nav-item\">\n                <a href=\"<%= new_order_path %>\"  id=\"side_order1\" class=\"nav-link\">\n                  <i class=\"far fa-circle nav-icon\"></i>\n                  <p>Đơn Hàng Mới</p>\n                </a>\n              </li>\n              <li class=\"nav-item\">\n                <a href=\"./index2.html\" class=\"nav-link\">\n                  <i class=\"far fa-circle nav-icon\"></i>\n                  <p>Quản Lý Đơn Hàng</p>\n                </a>\n              </li>\n            </ul>\n          </li>\n\n        </ul>\n      </nav>\n      <!-- /.sidebar-menu -->\n    </div>\n    <!-- /.sidebar -->\n  </aside>\n<script>\nvar x = 0;\n    $('.nitem2').click(function (){\n    if(x == 0){\n        $('.right').removeClass('fa-angle-down').addClass('fa-angle-left');\n        x = 1;\n    } else if (x == 1){\n        $('.right').removeClass('fa-angle-down').addClass('fa-angle-down');\n        x = 0;\n    }\n\n    });\n</script>\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/views/layouts/_sidebar.html.erb b/app/views/layouts/_sidebar.html.erb
--- a/app/views/layouts/_sidebar.html.erb	(revision b97de0e2d9585f67d4a96ab0e424039cb5101e6c)
+++ b/app/views/layouts/_sidebar.html.erb	(date 1669476107831)
@@ -51,7 +51,7 @@
             <a href="#" id="side_order_menu" class="nav-link">
               <i class="nav-icon fas fa-tachometer-alt"></i>
               <p>
-                Đơn Hàng
+                Đơn Hàng & Hàng Hóa
                 <i class="right fas fa-angle-left"></i>
               </p>
             </a>
@@ -66,6 +66,12 @@
                 <a href="./index2.html" class="nav-link">
                   <i class="far fa-circle nav-icon"></i>
                   <p>Quản Lý Đơn Hàng</p>
+                </a>
+              </li>
+              <li class="nav-item">
+                <a href="<%= product_manage_path %>" id="side-order3" class="nav-link">
+                  <i class="far fa-circle nav-icon"></i>
+                  <p>Quản Lý Hàng Hóa</p>
                 </a>
               </li>
             </ul>
Index: config/routes.rb
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>Rails.application.routes.draw do\n\n  scope :home do\n\n    scope :api do\n      get 'testt', to: 'apix#testt'\n      get 'phone_check', to: 'apix#phone_check'\n      get 'ref_phone_check', to: 'apix#ref_phone_check'\n\n      get 'product_info', to: 'apix#product_info'\n\n      post 'customer_check', to: 'apix#customer_check'\n\n    end\n\n    get 'index', to: 'home#index'\n\n    get 'new_order', to: 'home#new_order'\n\n\n  end\n\n  root 'home#index'\n\n  # Define your application routes per the DSL in https://guides.rubyonrails.org/routing.html\n\n  # Defines the root path route (\"/\")\n  # root \"articles#index\"\nend\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/config/routes.rb b/config/routes.rb
--- a/config/routes.rb	(revision b97de0e2d9585f67d4a96ab0e424039cb5101e6c)
+++ b/config/routes.rb	(date 1669612810527)
@@ -3,20 +3,22 @@
   scope :home do
 
     scope :api do
-      get 'testt', to: 'apix#testt'
+      get 'add_order', to: 'apix#add_order'
       get 'phone_check', to: 'apix#phone_check'
       get 'ref_phone_check', to: 'apix#ref_phone_check'
-
       get 'product_info', to: 'apix#product_info'
-
       post 'customer_check', to: 'apix#customer_check'
 
+
+      post 'add_prod', to: 'apix#add_prod'
     end
+
 
     get 'index', to: 'home#index'
 
     get 'new_order', to: 'home#new_order'
 
+    get 'product_manage', to: 'home#product_manage'
 
   end
 
Index: app/controllers/home_controller.rb
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>class HomeController < ApplicationController\n  def index\n\n  end\n\n  def new_order\n    @products = Product.all\n  end\nend\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/controllers/home_controller.rb b/app/controllers/home_controller.rb
--- a/app/controllers/home_controller.rb	(revision b97de0e2d9585f67d4a96ab0e424039cb5101e6c)
+++ b/app/controllers/home_controller.rb	(date 1669470445171)
@@ -4,6 +4,26 @@
   end
 
   def new_order
-    @products = Product.all
+    product_find(0)
+
+  end
+
+  def product_manage
+    product_find(0)
+
+  end
+
+  private
+
+
+  # 0 to find all
+  # other number to find specific product
+  def product_find(desire)
+    if desire == 0
+      @products = Product.all
+    else
+      @products = Product.find(desire)
+    end
+    @products
   end
 end
Index: app/views/home/new_order.html.erb
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+> <div class=\"content-wrapper\">\n     <!-- Content Header (Page header) -->\n     <div class=\"content-header\">\n\n         <div class=\"container-fluid\">\n             <div class=\"row mb-1\">\n\n             </div>\n         </div>\n\n     </div>\n     <!--/ Content Header -->\n\n\n     <!-- Main content -->\n     <section class=\"content\">\n         <div class=\"container-fluid\">\n             <!-- Old Customer -->\n             <div class=\"row\">\n                 <div class=\"col\">\n\n                     <div class=\"card card-outline card-pink\">\n                         <div class=\"card-header\">\n                             <h3 class=\"card-title\">Khách Hàng Cũ</h3>\n                         </div>\n                         <div class=\"card-body\">\n                             <div class=\"row\">\n                                 <div class=\"col col-lg-4 col-md-4\">\n                                     <div class=\"form-group\">\n                                         <label for=\"oldcus\">Tên - Số điện thoại</label>\n                                         <select class=\"form-control\" id=\"oldCus\">\n                                         </select>\n                                     </div>\n                                 </div>\n                                 <div class=\"col col-lg-8 col-md-8\">\n                                    <div class=\"form-group\">\n                                        <label for=\"oldAddress\">Đường, Phường, Quận, Tỉnh-Thành Phố</label>\n                                        <div class=\"input-group\">\n                                            <select class=\"custom-select\" id=\"oldAddress\">\n                                            </select>\n                                            <div class=\"input-group-append\">\n                                                <button class=\"btn btn-outline-danger disabled\" >Chọn</button>\n                                            </div>\n                                        </div>\n                                     </div>\n                                 </div>\n                             </div>\n                         </div>\n\n                     </div>\n                 </div>\n             </div>\n             <!-- /.Old Customer -->\n\n\n             <div class=\"row\">\n\n                 <div class=\"col col-lg-5 col-md-5\">\n                     <div class=\"card card-outline card-primary\">\n                         <div class=\"card-header\">\n                             <h3 class=\"card-title\">Khách Hàng Mới</h3>\n                         </div>\n\n\n                         <form id=\"cusForm\">\n                             <div class=\"card-body\">\n                                 <div class=\"row\">\n                                     <div class=\"col\">\n                                         <div class=\"form-group\">\n                                             <label for=\"cusName\">Họ Tên</label>\n                                             <input type=\"text\" class=\"form-control\" id=\"cusName\" name=\"name\" placeholder=\"Tên Khách Hàng\">\n                                         </div>\n                                     </div>\n\n                                     <div class=\"col\">\n                                         <div class=\"form-group\">\n                                             <label for=\"cusPhone\">Số Điện Thoại</label>\n                                             <input type=\"text\" minlength=\"10\" maxlength=\"10\" class=\"form-control\" id=\"cusPhone\" placeholder=\"Phone\" name=\"phone\">\n                                         </div>\n                                     </div>\n                                 </div>\n                                 <div class=\"row\">\n                                     <div class=\"col col-md-4\">\n                                         <div class=\"form-group\">\n                                             <label for=\"province\">Tỉnh - Thành Phố</label>\n                                             <select name=\"province\" class=\"form-control fsel\" id=\"province\">\n                                             </select>\n                                         </div>\n                                     </div>\n\n                                     <div class=\"col col-md-4\">\n                                         <div class=\"form-group\">\n                                             <label for=\"district\">Quận - Hyện</label>\n                                             <select name=\"district\" class=\"form-control fsel\" id=\"district\">\n                                             </select>\n                                         </div>\n                                     </div>\n\n                                     <div class=\"col col-md-4\">\n                                         <div class=\"form-group\">\n                                             <label for=\"ward\">Phường - Xã</label>\n                                             <select name=\"ward\" class=\"form-control fsel\" id=\"ward\">\n                                             </select>\n                                         </div>\n                                     </div>\n\n                                 </div>\n\n                                 <input class=\"form-control\" type=\"text\" id=\"street\" name=\"street\" placeholder=\"Địa chỉ và tên đường\">\n\n                             </div>\n\n                             <div class=\"card-footer\">\n                               <input type=\"hidden\" name=\"oldCusID\" id=\"oldCusID\" value=\"0\">\n                               <input type=\"hidden\" name=\"oldAdress\" id=\"oldAdress\" value=\"0\">\n                               <button id=\"createCus\" type=\"button\" class=\"btn btn-primary\">Submit</button>\n                             </div>\n                         </form>\n                     </div>\n\n                 </div>\n                 <!--/end left col  -->\n\n               <div class=\"col col-lg-7 col-md-7\">\n                 <div class=\"card card-outline card-warning\">\n                   <div class=\"card-header\">\n                     <h3 class=\"card-title\">Đơn Hàng</h3>\n                   </div>\n\n\n                   <form id=\"orderForm\">\n                     <div class=\"card-body\">\n                       <div class=\"row\">\n                         <div class=\"col\">\n                           <div class=\"form-group\">\n                             <label for=\"refName\">Người Giới Thiệu</label>\n                             <input type=\"text\" class=\"form-control\" id=\"refName\" name=\"refname\" placeholder=\"Tên Người Giới Thiệu\" required=\"\">\n                           </div>\n                           <div class=\"form-group\">\n                             <label for=\"refPhone\">Số Điện Thoại</label>\n                             <input type=\"text\" minlength=\"10\" maxlength=\"10\" class=\"form-control\" id=\"refPhone\" placeholder=\"Phone\" name=\"refphone\" required=\"\" style=\"border-width: 1px;\">\n                           </div>\n                         </div>\n\n                         <div class=\"col\">\n                           <div class=\"form-group\">\n                             <label for=\"refBank\">Thông Tin Chuyển Khoản</label>\n                             <textarea type=\"text\" rows=\"4\"  class=\"form-control\" id=\"refBank\" placeholder=\"Thông Tin Chuyển Khoản Của người giới thiệu\" name=\"refbank\" required=\"\" style=\"border-width: 1px;\"></textarea>\n                           </div>\n                         </div>\n                       </div>\n\n                       <div class=\"row\">\n                         <div class=\"col\">\n                           <div class=\"form-group\">\n                             <label for=\"prods\">Các Sản Phẩm</label>\n                             <div class=\"input-group\">\n                               <select class=\"custom-select\" id=\"prods\">\n                                 <option selected>Chọn sản phẩm</option>\n                                 <% @products.each do |product|  %>\n                                   <option value=\"<%= product.id %>\"><%= product.name %> - <%= product.volume %> - <%= product.price %></option>\n                                 <% end %>\n                               </select>\n                               <div class=\"input-group-append\">\n                                 <button class=\"btn btn-outline-danger\" id=\"prodChoose\" onclick=\"event.preventDefault();\">Chọn</button>\n                               </div>\n                             </div>\n                           </div>\n                         </div>\n                       </div>\n\n                       <div class=\"row\">\n                         <div class=\"col\">\n                           <div class=\"card\">\n\n                             <div class=\"card-body table-responsive p-0\" style=\"height:300px;\">\n                               <table class=\"table\" id=\"line_items\">\n                                 <thead>\n                                 <tr>\n                                   <th style=\"width: 10px\">#</th>\n                                   <th>Tên Sản Phẩm</th>\n                                   <th>Số lượng</th>\n                                   <th>Giá Tiền</th>\n\n                                   <th style=\"width: 40px\">Thao Tác</th>\n                                 </tr>\n                                 </thead>\n                                 <tbody>\n\n                                 </tbody>\n                               </table>\n                             </div>\n\n                           </div>\n\n\n\n                         </div>\n\n                       </div>\n\n                       <div class=\"row\">\n                         <div class=\"col col-md-3\">\n                           <div class=\"form-group\">\n                             <label for=\"discount\">Giảm Giá</label>\n                             <input type=\"number\" min=\"0\" max=\"100\" step=\"1\" minlength=\"1\" maxlength=\"2\" class=\"form-control\" id=\"discount\">\n\n                           </div>\n                         </div>\n\n                         <div class=\"col col-md-3\">\n                           <div class=\"form-group\">\n                             <label for=\"shipping\">Phí Vận Chuyển</label>\n                             <input type=\"number\" min=\"0\"  name=\"shipping\" class=\"form-control\" id=\"shipping\">\n\n                           </div>\n                         </div>\n\n                         <div class=\"col col-md-3\">\n                           <div class=\"form-group\">\n                             <label for=\"shipping\">Thanh Toán Bằng</label>\n                             <select name=\"payment\" id=\"payment\" class=\"form-control\">\n                               <option value=\"Chuyển Khoản\">Chuyển Khoản</option>\n                               <option value=\"COD\">COD</option>\n                             </select>\n                           </div>\n                         </div>\n\n                         <div class=\"col col-md-6\">\n                           <div class=\"form-group\">\n                             <label for=\"note\">Note</label>\n                             <textarea name=\"note\" id=\"note\" class=\"form-control\" rows=\"3\"></textarea>\n                           </div>\n                         </div>\n\n                       </div>\n\n                     </div>\n\n                     <div class=\"card-footer\">\n                       <input type=\"hidden\" name=\"orderCusID\" id=\"orderCusID\" value=\"\" required=\"\">\n                       <input type=\"hidden\" name=\"orderrefID\" id=\"orderrefID\" value=\"\" required=\"\">\n                       <button type=\"button\" class=\"btn btn-primary\" id=\"createOrder\">Tạo Đơn</button>\n                       <input type=\"text\" name=\"total\" id=\"totalCost\" class=\"float-right\" >\n                     </div>\n                   </form>\n                 </div>\n\n               </div>\n\n             </div>\n\n\n         </div>\n     </section>\n     <!-- /.content -->\n </div>\n <style>\n   #totalCost{\n       background-color: transparent;\n       color:red;\n       font-size: 24px;\n       font-weight: bold;\n       border:none;\n       border-bottom: 1px solid #1890ff;\n       padding: 5px 10px;\n       outline: none;\n       text-align:right;\n       width: 300px;\n   }\n </style>\n <script>\n\n     window.onload = orderSyle();\n     window.onload = callPro(undefined);\n\n     function orderSyle() {\n         $(\"#totalCost\").attr(\"readonly\",true);\n         $(\"#totalCost\").val(0);\n\n         $('.nitem2').addClass('menu-open');\n         $('#side_order_menu').addClass('active');\n         $('#side_order_menu').css('background-color', '#F7A4A4')\n         $('.right').removeClass('fa-angle-left').addClass('fa-angle-down');\n\n         $('#side_order1').addClass('active');\n         $('#side_order1').css('background-color', '#F7A4A429');\n         $('#side_order1').css('color', '#000');\n          stuff = [];\n     }\n\n     $(\"#cusForm\").prop('required',true);\n     $(\"#createCus\").click(function(e) {\n         e.preventDefault();\n         var form = $('form#cusForm');\n         var actionUrl = '<%= customer_check_path %>';\n         $.ajax({\n             type: \"POST\",\n             beforeSend: function(xhr) {xhr.setRequestHeader('X-CSRF-Token', $('meta[name=\"csrf-token\"]').attr('content'))},\n             url: actionUrl,\n             data: form.serialize(), // serializes the form's elements.\n             success: function(data) {\n                 toastr.success(data.customer.name,data.message,{\n                     timeOut: 3000,\n                     progressBar: true,\n                     progressAnimation: 'increasing'\n                 });\n                 $(\"#oldAdress\").val(\"1\")\n                 $('#orderCusID').val(data.customer.id);\n             }\n         });\n\n     });\n\n     //Print line items\n     var stt =1;\n     var total=0;\n     $('#prodChoose').click(function(){\n         id= $(\"#prods\").find(\":selected\").val();\n         const existingItem = stuff.find((item) => {\n             return parseInt(id) === item.id;\n         });\n         if(existingItem){\n             existingItem.qty++;\n             $(\"#\"+existingItem.row).closest('tr').find('td #prodQty').html(existingItem.qty);\n             total = total + existingItem.price;\n             $('input#totalCost').val( total.toFixed(3) );\n\n         }else{\n           $.get(\"<%= product_info_path %>\", {id:id},function(data) {\n             var hold = '<tr id=\"row-'+stt+'\">';\n                 hold += '<td id=\"'+data.prod.id+'\" >'+ stt +'</td> <td>'+data.prod.name+' - '+data.prod.volume+'</td>';\n                 hold += '<td><i type=\"button\" class=\"fas fa-angle-down qtybtn\" id=\"down-'+data.prod.id+'\"></i>' +\n                     '&nbsp;&nbsp;<span id=\"prodQty\">1</span>&nbsp;&nbsp;' +\n                     '<i type=\"button\" class=\"fas fa-angle-up qtybtn\" id=\"up-'+data.prod.id+'\"></i></td>';\n                 hold += '<td><span id=\"prodPrice\">'+data.prod.price+'</span></td>';\n                 hold += '<td><button type=\"button\" class=\"btn btn-sm btn-outline-warning btndel\">Xóa</button></td>';\n                 hold += '</tr>';\n             $(\"#line_items tbody\").append(hold);\n             stuff.push({id: parseInt(data.prod.id), price: parseFloat(data.prod.price), qty: 1,row: 'row-'+stt+''});\n             total = parseFloat(data.prod.price) + total;\n             $(\"#totalCost\").val(total.toFixed(3));\n             stt++\n           });\n         }\n\n     });\n\n      // Increase - Decrease Item Qty\n     $(\"#line_items\").on('click','.qtybtn', function() {\n         var actionID =  $(this).attr(\"id\").split('-');\n         updownQty(actionID[0], actionID[1]);\n     });\n     function updownQty(action, id){\n         const existingItem = stuff.find((item) => {\n             return parseInt(id) === item.id;\n         });\n         var dis = parseInt($('#discount').val());\n         var ship = parseFloat($('#shipping').val());\n         if(action == \"up\"){\n\n             existingItem.qty++;\n             $(\"#\"+existingItem.row).closest('tr').find('td #prodQty').html(existingItem.qty);\n             total = total + existingItem.price;\n             if(isNaN(dis) == false && isNaN(ship) == false){\n                 var sum = total - ((total * dis) / 100) + ship;\n             }\n             $('input#totalCost').val( sum.toFixed(3) );\n         } else if (action ==\"down\"){\n             if(existingItem.qty == 1){\n                 toastr.info('Xóa Hoặc số lượng bằng 1','',{\n                     timeOut: 2000,\n                     progressBar: true,\n                     progressAnimation: 'increasing'\n                 });\n             }\n             else{\n                 existingItem.qty--;\n                 $(\"#\"+existingItem.row).closest('tr').find('td #prodQty').html(existingItem.qty);\n                 // total = total - existingItem.price;\n                     total = total - existingItem.price;\n                 if(isNaN(dis) == false && isNaN(ship) == false){\n                     var sum = total - ((total * dis) / 100) + ship;\n                 }\n                 $('input#totalCost').val( sum.toFixed(3) );\n             }\n         }\n     }\n\n     //Delete selected line_items\n     $('#line_items').on('click','.btndel',function (){\n        var curRowID = $(this).closest('tr').attr('id');\n         var dis = parseInt($('#discount').val());\n         var ship = parseFloat($('#shipping').val());\n        console.log(curRowID);\n        const curItem = stuff.find((item) => {\n            return curRowID === item.row;\n        });\n        var sum = parseFloat(curItem.price) * curItem.qty;\n        total = total - sum;\n        if (total < 0 ){\n            total = 0;\n            $('input#totalCost').val( total );\n        }else{\n\n            total = (total - ((total * dis) / 100)) + ship;\n            $('input#totalCost').val( total.toFixed(3) );\n        }\n        $(this).closest('tr').remove();\n        stuff = stuff.filter(x => {\n            return  x.id != curItem.id;\n        })\n        console.log(curItem);\n    });\n\n\n     $('#discount').on('keyup paste',function(){\n\n        $(this).val($(this).val().replace(/[^0-9]/g, ''));\n        var amount = parseInt($(this).val());\n         var ship = parseFloat($('#shipping').val());\n\n         if(isNaN(amount) || isNaN(ship)){\n\n            var hold = 0;\n            stuff.forEach( x =>{\n                hold += parseFloat(x.price * x.qty);\n            })\n             hold += ship;\n             $('input#totalCost').val( hold.toFixed(3) );\n            $(this).val(0);\n        }\n        else{\n            var sum = total - ((total * amount) / 100) + ship;\n            $('input#totalCost').val( parseFloat(sum.toFixed(3)) );\n        }\n\n\n    });\n     $('#shipping').on('keyup paste',function(){\n         $(this).val($(this).val().replace(/[^0-9.]/g, ''));\n         var amount = parseFloat($(this).val());\n         var dis = parseInt($('#discount').val());\n\n         if(isNaN(amount) || isNaN(dis)){\n             var hold = 0;\n             stuff.forEach( x =>{\n                 hold += parseFloat(x.price * x.qty);\n             })\n             hold = hold - ((total * dis) / 100);\n\n             $('input#totalCost').val( hold.toFixed(3) );\n             $(this).val(0);\n         }\n         else{\n             var sum = total - ((total * dis) / 100) + amount;\n             $('input#totalCost').val( parseFloat(sum.toFixed(3)));\n         }\n\n\n     });\n\n     //Hàm này sẽ handle việc thêm sản phẩm mà đã có giảm giá + phí ship trước\n     //Chưa hoạt động theo DRY\n     function extraTotalPrice(){\n         var dis = parseInt($('#discount').val());\n         var ship = parseFloat($('#shipping').val());\n\n         if(dis == 0 || isNaN(dis) || dis == '' ||\n             ship == 0 || isNaN(ship) || ship == ''){\n\n             var hold = 0;\n             stuff.forEach( x =>{\n                 hold += parseFloat(x.price * x.qty);\n             })\n             $('input#totalCost').val( hold.toFixed(3) );\n             $('#discount #shipping').val(0);\n         } else {\n             var sum = (total - ((total * dis) / 100)) + ship;\n             $('input#totalCost').val( parseFloat(sum.toFixed(3)) );\n         }\n     }\n\n     $(\"#createOrder\").click(function(e) {\n         e.preventDefault();\n         var rowCount = $('#line_items tbody tr').length;\n         var actionUrl = '<%= testt_path %>';\n         var cv = [];\n         $('#line_items tbody tr').each(function () {\n             cv.push({\n                 prodID: parseInt($(this).find('td:first-child').attr(\"id\")),\n                 prodQty: parseInt($(this).find('#prodQty').html()),\n                 prodPrice: parseFloat($(this).find('#prodPrice').html()).toFixed(3)\n             });\n         });\n         console.log(cv);\n         // alert(rowCount)\n         $.ajax({\n             beforeSend: function(xhr) {xhr.setRequestHeader('X-CSRF-Token', $('meta[name=\"csrf-token\"]').attr('content'))},\n             type: 'GET',\n             url: actionUrl,\n             data: {\n                 items: cv,\n                 item_length: rowCount,\n                 total: parseFloat($('#totalCost').val()).toFixed(3),\n                 note: $('#note').val(),\n                 discount: $('#discount').val(),\n                 customer_id: parseInt($('#orderCusID').val()),\n                 payment: $(\"#payment\").find(\":selected\").val(),\n                 shipping: $('#shipping').val(),\n                 orderrefID: $('#orderrefID').val(),\n                 refname: $('#refName').val(),\n                 refphone: $('#refPhone').val(),\n                 refbank: $('#refBank').val()\n\n             },\n             success: function (data) {\n                console.log(data + \"xxx\");\n\n             }\n         });\n\n     });\n\n\n     //a sẽ là p - tỉnh/thành phố, d/ distrioct\n     //b là id tỉnh thành thành, quận huyện\n     //c la chổ đổ vào\n     function callPro(a, b, c) {\n         if (a == undefined) {\n             $.get(\"https://provinces.open-api.vn/api/?depth=1\", function(data) {\n                 var hold = \"\"\n                 data.forEach(x => {\n                     hold += '<option value=\"' + x.code + '-' + x.name + '\">' + x.name + '</option>'\n                 });\n                 $(\"#province\").html(hold);\n             });\n         } else {\n             $.get(\"https://provinces.open-api.vn/api/\" + a + \"/\" + b + \"?depth=2\", function(data) {\n                 var hold = \"\"\n                 if (a == 'p') {\n                     for (let i = 0; i < data.districts.length; i++) {\n                         hold += '<option value=\"' + data.districts[i].code + '-' + data.districts[i].name + '\">' + data.districts[i].name + '</option>';\n                     }\n                 } else {\n                     for (let i = 0; i < data.wards.length; i++) {\n                         hold += '<option value=\"' + data.wards[i].code + '-' + data.wards[i].name + '\">' + data.wards[i].name + '</option>';\n                     }\n                 }\n\n                 $(c).html(hold);\n             });\n         }\n     }\n      $('#street').on('keyup', function() {$(\"#oldAdress\").val(\"0\")});\n\n     $(\".fsel\").on('change', function() {\n         var a = 'p';\n         var b = $(this).find(\":selected\").val().split(\"-\")[0];\n         var c = $(this).attr(\"id\");\n         if (c == \"province\") {\n            $('#district,#ward').html(\"\")\n             c = \"district\";\n             callPro(a, b, '#' + c);\n         } else if (c == \"district\") {\n             a = 'd'\n             c = \"ward\";\n             callPro(a, b, '#' + c);\n         }\n         $(\"#oldAdress\").val(\"0\")\n     });\n\n     $('#cusPhone').bind('input paste propertychange',function () {\n         $(this).val($(this).val().replace(/[^0-9+]/g, ''));\n            var hold = $(this).val().length;\n            var checkPhoneURL = \"<%= phone_check_path %>\";\n              $('#oldCusID').val(0);\n         if (hold == 10){\n                $.ajax({\n                    type: \"GET\",\n                    beforeSend: function(xhr) {xhr.setRequestHeader('X-CSRF-Token', $('meta[name=\"csrf-token\"]').attr('content'))},\n                    url: checkPhoneURL,\n                    data: {\n                        phone:  $(this).val()\n                    },\n                    success: function(data) {\n                       if(data.status == true) {\n                           toastr.info(data.message, '', {\n                               timeOut: 2000,\n                               progressBar: true,\n                               progressAnimation: 'increasing'\n                           });\n                           $('#oldCusID').val(0);\n                       } else {\n                           toastr.warning(data.customer.name, \"Khách Hàng Tên:\", {\n                               timeOut: 2000,\n                               progressBar: true,\n                               progressAnimation: 'increasing'\n                           });\n                           $('#cusPhone').addClass(\"border-warning\").css('border-width','thick');\n                           setTimeout(function(){\n                               $('#cusPhone').removeClass(\"border-warning\").css('border-width','1px');\n                           },2000);\n                           $('#oldCusID').val(data.customer.id);\n                       }\n                    }\n                });\n            }\n\n     });\n\n     $('#refPhone').bind('input paste propertychange',function () {\n         $(this).val($(this).val().replace(/[^0-9+]/g, ''));\n         var hold = $(this).val().length;\n         var checkPhoneURL = \"<%= ref_phone_check_path %>\";\n         $('#orderrefID').val(0);\n         if($(this).val() == $('#cusPhone').val()) {\n             toastr.warning('Không Được Trùng SĐT Với Người Mua', '', {\n                 timeOut: 2000,\n                 progressBar: true,\n                 progressAnimation: 'increasing'\n             });\n             $(this).val('');\n         }\n         else if (hold == 10){\n\n             $.ajax({\n                 type: \"GET\",\n                 beforeSend: function(xhr) {xhr.setRequestHeader('X-CSRF-Token', $('meta[name=\"csrf-token\"]').attr('content'))},\n                 url: checkPhoneURL,\n                 data: {\n                     phone:  $(this).val()\n                 },\n                 success: function(data) {\n                     if(data.status == true) {\n                         toastr.info(data.message, '', {\n                             timeOut: 2000,\n                             progressBar: true,\n                             progressAnimation: 'increasing'\n                         });\n                         $('#oldCusID').val(0);\n                     } else {\n                         toastr.warning(data.ref.name, \"Người Giới thiệu  Tên:\", {\n                             timeOut: 2000,\n                             progressBar: true,\n                             progressAnimation: 'increasing'\n                         });\n                         $('#refPhone').addClass(\"border-warning\").css('border-width','thick');\n                         setTimeout(function(){\n                             $('#refPhone').removeClass(\"border-warning\").css('border-width','1px');\n                         },2000);\n                         $('#orderrefID').val(data.ref.id);\n                     }\n                 }\n             });\n         }\n\n     });\n     function isNumberKeyx(evt){\n         var charCode = (evt.which) ? evt.which : evt.keyCode\n         // if (charCode > 31 && (charCode < 37 && charCode > 41))\n         if (charCode == 37 || charCode == 38 || charCode == 39 || charCode == 40){return true;}\n         else if ((charCode >= 48 && charCode <= 57) || (charCode >= 96 && charCode <= 105)){return false;}\n         else return false;\n     }\n </script>\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/views/home/new_order.html.erb b/app/views/home/new_order.html.erb
--- a/app/views/home/new_order.html.erb	(revision b97de0e2d9585f67d4a96ab0e424039cb5101e6c)
+++ b/app/views/home/new_order.html.erb	(date 1669546863538)
@@ -284,7 +284,7 @@
          $('.right').removeClass('fa-angle-left').addClass('fa-angle-down');
 
          $('#side_order1').addClass('active');
-         $('#side_order1').css('background-color', '#F7A4A429');
+         $('#side_order1').css('background-color', '#FEBE8C');
          $('#side_order1').css('color', '#000');
           stuff = [];
      }
@@ -484,7 +484,7 @@
      $("#createOrder").click(function(e) {
          e.preventDefault();
          var rowCount = $('#line_items tbody tr').length;
-         var actionUrl = '<%= testt_path %>';
+         var actionUrl = '<%= add_order_path %>';
          var cv = [];
          $('#line_items tbody tr').each(function () {
              cv.push({
Index: Rakefile
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+># Add your own tasks in files placed in lib/tasks ending in .rake,\n# for example lib/tasks/capistrano.rake, and they will automatically be available to Rake.\n\nrequire_relative \"config/application\"\n\nRails.application.load_tasks\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/Rakefile b/Rakefile
--- a/Rakefile	(revision b97de0e2d9585f67d4a96ab0e424039cb5101e6c)
+++ b/Rakefile	(date 1669479496967)
@@ -1,5 +1,5 @@
-# Add your own tasks in files placed in lib/tasks ending in .rake,
-# for example lib/tasks/capistrano.rake, and they will automatically be available to Rake.
+# Add your own tasks in files placed in libs/tasks ending in .rake,
+# for example libs/tasks/capistrano.rake, and they will automatically be available to Rake.
 
 require_relative "config/application"
 
Index: config/database.yml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+># PostgreSQL. Versions 9.3 and up are supported.\n#\n# Install the pg driver:\n#   gem install pg\n# On macOS with Homebrew:\n#   gem install pg -- --with-pg-config=/usr/local/bin/pg_config\n# On macOS with MacPorts:\n#   gem install pg -- --with-pg-config=/opt/local/lib/postgresql84/bin/pg_config\n# On Windows:\n#   gem install pg\n#       Choose the win32 build.\n#       Install PostgreSQL and put its /bin directory on your path.\n#\n# Configure Using Gemfile\n# gem \"pg\"\n#\ndefault: &default\n  adapter: postgresql\n  encoding: unicode\n  # For details on connection pooling, see Rails configuration guide\n  # https://guides.rubyonrails.org/configuring.html#database-pooling\n  pool: <%= ENV.fetch(\"RAILS_MAX_THREADS\") { 5 } %>\n\ndevelopment:\n  <<: *default\n  database: qldh_development\n\n  # The specified database role being used to connect to postgres.\n  # To create additional roles in postgres see `$ createuser --help`.\n  # When left blank, postgres will use the default role. This is\n  # the same name as the operating system user running Rails.\n  username: pixie\n\n  # The password associated with the postgres role (username).\n  password: <%= Rails.application.credentials.dig(:db_pass) %>\n\n  # Connect on a TCP socket. Omitted by default since the client uses a\n  # domain socket that doesn't need configuration. Windows does not have\n  # domain sockets, so uncomment these lines.\n  #host: localhost\n\n  # The TCP port the server listens on. Defaults to 5432.\n  # If your server runs on a different port number, change accordingly.\n  #port: 5432\n\n  # Schema search path. The server defaults to $user,public\n  #schema_search_path: myapp,sharedapp,public\n\n  # Minimum log levels, in increasing order:\n  #   debug5, debug4, debug3, debug2, debug1,\n  #   log, notice, warning, error, fatal, and panic\n  # Defaults to warning.\n  #min_messages: notice\n\n# Warning: The database defined as \"test\" will be erased and\n# re-generated from your development database when you run \"rake\".\n# Do not set this db to the same as development or production.\ntest:\n  <<: *default\n  database: qldh_test\n\n# As with config/credentials.yml, you never want to store sensitive information,\n# like your database password, in your source code. If your source code is\n# ever seen by anyone, they now have access to your database.\n#\n# Instead, provide the password or a full connection URL as an environment\n# variable when you boot the app. For example:\n#\n#   DATABASE_URL=\"postgres://myuser:mypass@localhost/somedatabase\"\n#\n# If the connection URL is provided in the special DATABASE_URL environment\n# variable, Rails will automatically merge its configuration values on top of\n# the values provided in this file. Alternatively, you can specify a connection\n# URL environment variable explicitly:\n#\n#   production:\n#     url: <%= ENV[\"MY_APP_DATABASE_URL\"] %>\n#\n# Read https://guides.rubyonrails.org/configuring.html#configuring-a-database\n# for a full overview on how database connection configuration can be specified.\n#\nproduction:\n  <<: *default\n  url: <%= ENV[\"DATABASE_URL\"] %>\n#  database: qldh_production\n#  username: pixie\n#  password: < %#= Rails.application.credentials.dig(:db_pass) %>\n#  url: < %#= Rails.application.credentials.dig(:prod_url) %>\n#  database: < %#= Rails.application.credentials.dig(:prod_db) %>\n#  username: < %#= Rails.application.credentials.dig(:prod_uname) %>\n#  password: < %#= Rails.application.credentials.dig(:prod_pass) %>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/config/database.yml b/config/database.yml
--- a/config/database.yml	(revision b97de0e2d9585f67d4a96ab0e424039cb5101e6c)
+++ b/config/database.yml	(date 1669614364916)
@@ -81,11 +81,10 @@
 #
 production:
   <<: *default
-  url: <%= ENV["DATABASE_URL"] %>
-#  database: qldh_production
-#  username: pixie
-#  password: < %#= Rails.application.credentials.dig(:db_pass) %>
-#  url: < %#= Rails.application.credentials.dig(:prod_url) %>
-#  database: < %#= Rails.application.credentials.dig(:prod_db) %>
-#  username: < %#= Rails.application.credentials.dig(:prod_uname) %>
-#  password: < %#= Rails.application.credentials.dig(:prod_pass) %>
\ No newline at end of file
+#url below connect to heroku database
+#  url: < %#= ENV["DATABASE_URL"] %>
+
+  database: qldh_production
+  username: pixie
+  password: <#%= Rails.application.credentials.dig(:db_pass) %>
+
Index: app/javascript/controllers/index.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>// Import and register all your controllers from the importmap under controllers/*\n\nimport { Application } from \"@hotwired/stimulus\"\n\n// Eager load all controllers defined in the import map under controllers/**/*_controller\n// import { eagerLoadControllersFrom } from \"@hotwired/stimulus-loading\"\n// eagerLoadControllersFrom(\"controllers\", application)\n\n// Lazy load controllers as they appear in the DOM (remember not to preload controllers in import map!)\n// import { lazyLoadControllersFrom } from \"@hotwired/stimulus-loading\"\n// lazyLoadControllersFrom(\"controllers\", application)\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/javascript/controllers/index.js b/app/javascript/controllers/index.js
--- a/app/javascript/controllers/index.js	(revision b97de0e2d9585f67d4a96ab0e424039cb5101e6c)
+++ b/app/javascript/controllers/index.js	(date 1669573759591)
@@ -1,6 +1,7 @@
 // Import and register all your controllers from the importmap under controllers/*
 
 import { Application } from "@hotwired/stimulus"
+import { application } from "./application"
 
 // Eager load all controllers defined in the import map under controllers/**/*_controller
 // import { eagerLoadControllersFrom } from "@hotwired/stimulus-loading"
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project version=\"4\">\n  <component name=\"ChangeListManager\">\n    <list default=\"true\" id=\"1230615a-ecf2-40c2-97ce-8e24bd551ebb\" name=\"Changes\" comment=\"update credential\">\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/config/database.yml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/config/database.yml\" afterDir=\"false\" />\n    </list>\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\n  </component>\n  <component name=\"FileTemplateManagerImpl\">\n    <option name=\"RECENT_TEMPLATES\">\n      <list>\n        <option value=\"ERB File\" />\n      </list>\n    </option>\n  </component>\n  <component name=\"Git.Settings\">\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\n  </component>\n  <component name=\"MarkdownSettingsMigration\">\n    <option name=\"stateVersion\" value=\"1\" />\n  </component>\n  <component name=\"ProjectId\" id=\"2HjCyIJ8kxtJnTaYbcjVBdoITR2\" />\n  <component name=\"ProjectViewState\">\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\n    <option name=\"showLibraryContents\" value=\"true\" />\n  </component>\n  <component name=\"PropertiesComponent\">{\n  &quot;keyToString&quot;: {\n    &quot;RunOnceActivity.OpenProjectViewOnStart&quot;: &quot;true&quot;,\n    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,\n    &quot;WebServerToolWindowFactoryState&quot;: &quot;false&quot;,\n    &quot;last_opened_file_path&quot;: &quot;/home/pixie/Desktop/qldh/lib/assets/images&quot;,\n    &quot;nodejs_package_manager_path&quot;: &quot;npm&quot;,\n    &quot;ruby.rails.projectView.checked&quot;: &quot;true&quot;,\n    &quot;settings.editor.selected.configurable&quot;: &quot;preferences.lookFeel&quot;\n  }\n}</component>\n  <component name=\"RecentsManager\">\n    <key name=\"CopyFile.RECENT_KEYS\">\n      <recent name=\"$PROJECT_DIR$/lib/assets/images\" />\n    </key>\n    <key name=\"MoveFile.RECENT_KEYS\">\n      <recent name=\"$PROJECT_DIR$/app/views\" />\n      <recent name=\"$PROJECT_DIR$/app/views/home/products\" />\n    </key>\n  </component>\n  <component name=\"RunManager\" selected=\"Rails.Development: qldh\">\n    <configuration name=\"Development: qldh\" type=\"RailsRunConfigurationType\" factoryName=\"Rails\">\n      <module name=\"qldh\" />\n      <predefined_log_file enabled=\"true\" id=\"RUBY_RAILS_SERVER\" />\n      <RAILS_SERVER_CONFIG_SETTINGS_ID NAME=\"RUBY_ARGS\" VALUE=\"\" />\n      <RAILS_SERVER_CONFIG_SETTINGS_ID NAME=\"WORK DIR\" VALUE=\"$MODULE_DIR$\" />\n      <RAILS_SERVER_CONFIG_SETTINGS_ID NAME=\"SHOULD_USE_SDK\" VALUE=\"false\" />\n      <RAILS_SERVER_CONFIG_SETTINGS_ID NAME=\"ALTERN_SDK_NAME\" VALUE=\"\" />\n      <RAILS_SERVER_CONFIG_SETTINGS_ID NAME=\"myPassParentEnvs\" VALUE=\"true\" />\n      <EXTENSION ID=\"BundlerRunConfigurationExtension\" BUNDLE_MODE=\"AUTO\" bundleExecEnabled=\"true\" />\n      <EXTENSION ID=\"RubyCoverageRunConfigurationExtension\" track_test_folders=\"true\" runner=\"rcov\" ENABLE_BRANCH_COVERAGE=\"true\" ENABLE_FORKED_COVERAGE=\"true\">\n        <COVERAGE_PATTERN ENABLED=\"true\">\n          <PATTERN REGEXPS=\"/.rvm/\" INCLUDED=\"false\" />\n        </COVERAGE_PATTERN>\n      </EXTENSION>\n      <EXTENSION ID=\"org.jetbrains.plugins.ruby.rails.run.RailsRunConfigurationExtension\" SCRATCH_USE_RAILS_RUNNER=\"false\" />\n      <RAILS_SERVER_CONFIG_SETTINGS_ID NAME=\"SCRIPT_ARGS\" VALUE=\"\" />\n      <RAILS_SERVER_CONFIG_SETTINGS_ID NAME=\"PORT\" VALUE=\"3000\" />\n      <RAILS_SERVER_CONFIG_SETTINGS_ID NAME=\"IP\" VALUE=\"0.0.0.0\" />\n      <RAILS_SERVER_CONFIG_SETTINGS_ID NAME=\"DUMMY_APP\" VALUE=\"test/dummy\" />\n      <RAILS_SERVER_CONFIG_SETTINGS_ID NAME=\"RAILS_SERVER_TYPE\" VALUE=\"Default\" />\n      <RAILS_SERVER_CONFIG_SETTINGS_ID NAME=\"ENVIRONMENT_TYPE\" VALUE=\"development\" />\n      <RAILS_SERVER_CONFIG_SETTINGS_ID NAME=\"LAUNCH_JS\" VALUE=\"false\" />\n      <method v=\"2\" />\n    </configuration>\n    <configuration name=\"Production: qldh\" type=\"RailsRunConfigurationType\" factoryName=\"Rails\">\n      <module name=\"qldh\" />\n      <predefined_log_file enabled=\"true\" id=\"RUBY_RAILS_SERVER\" />\n      <RAILS_SERVER_CONFIG_SETTINGS_ID NAME=\"RUBY_ARGS\" VALUE=\"\" />\n      <RAILS_SERVER_CONFIG_SETTINGS_ID NAME=\"WORK DIR\" VALUE=\"$MODULE_DIR$\" />\n      <RAILS_SERVER_CONFIG_SETTINGS_ID NAME=\"SHOULD_USE_SDK\" VALUE=\"false\" />\n      <RAILS_SERVER_CONFIG_SETTINGS_ID NAME=\"ALTERN_SDK_NAME\" VALUE=\"\" />\n      <RAILS_SERVER_CONFIG_SETTINGS_ID NAME=\"myPassParentEnvs\" VALUE=\"true\" />\n      <EXTENSION ID=\"BundlerRunConfigurationExtension\" BUNDLE_MODE=\"AUTO\" bundleExecEnabled=\"true\" />\n      <EXTENSION ID=\"RubyCoverageRunConfigurationExtension\" track_test_folders=\"true\" runner=\"rcov\" ENABLE_BRANCH_COVERAGE=\"true\" ENABLE_FORKED_COVERAGE=\"true\">\n        <COVERAGE_PATTERN ENABLED=\"true\">\n          <PATTERN REGEXPS=\"/.rvm/\" INCLUDED=\"false\" />\n        </COVERAGE_PATTERN>\n      </EXTENSION>\n      <EXTENSION ID=\"org.jetbrains.plugins.ruby.rails.run.RailsRunConfigurationExtension\" SCRATCH_USE_RAILS_RUNNER=\"false\" />\n      <RAILS_SERVER_CONFIG_SETTINGS_ID NAME=\"SCRIPT_ARGS\" VALUE=\"\" />\n      <RAILS_SERVER_CONFIG_SETTINGS_ID NAME=\"PORT\" VALUE=\"3000\" />\n      <RAILS_SERVER_CONFIG_SETTINGS_ID NAME=\"IP\" VALUE=\"0.0.0.0\" />\n      <RAILS_SERVER_CONFIG_SETTINGS_ID NAME=\"DUMMY_APP\" VALUE=\"test/dummy\" />\n      <RAILS_SERVER_CONFIG_SETTINGS_ID NAME=\"RAILS_SERVER_TYPE\" VALUE=\"Default\" />\n      <RAILS_SERVER_CONFIG_SETTINGS_ID NAME=\"ENVIRONMENT_TYPE\" VALUE=\"production\" />\n      <RAILS_SERVER_CONFIG_SETTINGS_ID NAME=\"LAUNCH_JS\" VALUE=\"false\" />\n      <method v=\"2\" />\n    </configuration>\n    <configuration name=\"spec: qldh\" type=\"RakeRunConfigurationType\" factoryName=\"Rake\">\n      <module name=\"qldh\" />\n      <RAKE_RUN_CONFIG_SETTINGS_ID NAME=\"RUBY_ARGS\" VALUE=\"\" />\n      <RAKE_RUN_CONFIG_SETTINGS_ID NAME=\"WORK DIR\" VALUE=\"$MODULE_DIR$\" />\n      <RAKE_RUN_CONFIG_SETTINGS_ID NAME=\"SHOULD_USE_SDK\" VALUE=\"false\" />\n      <RAKE_RUN_CONFIG_SETTINGS_ID NAME=\"ALTERN_SDK_NAME\" VALUE=\"\" />\n      <RAKE_RUN_CONFIG_SETTINGS_ID NAME=\"myPassParentEnvs\" VALUE=\"true\" />\n      <EXTENSION ID=\"BundlerRunConfigurationExtension\" BUNDLE_MODE=\"AUTO\" bundleExecEnabled=\"true\" />\n      <EXTENSION ID=\"RubyCoverageRunConfigurationExtension\" track_test_folders=\"true\" runner=\"rcov\" ENABLE_BRANCH_COVERAGE=\"true\" ENABLE_FORKED_COVERAGE=\"true\">\n        <COVERAGE_PATTERN ENABLED=\"true\">\n          <PATTERN REGEXPS=\"/.rvm/\" INCLUDED=\"false\" />\n        </COVERAGE_PATTERN>\n      </EXTENSION>\n      <EXTENSION ID=\"org.jetbrains.plugins.ruby.rails.run.RailsRunConfigurationExtension\" SCRATCH_USE_RAILS_RUNNER=\"false\" />\n      <RAKE_RUN_CONFIG_SETTINGS_ID NAME=\"RAKE_TASK_NAME\" VALUE=\"spec\" />\n      <RAKE_RUN_CONFIG_SETTINGS_ID NAME=\"RAKE_TASK_ARGS\" VALUE=\"\" />\n      <RAKE_RUN_CONFIG_SETTINGS_ID NAME=\"RAKE_TASK_ATTACHED_TEST_FRAMEWORKS\" VALUE=\":rspec \" />\n      <RAKE_RUN_CONFIG_SETTINGS_ID NAME=\"RAKE_TASK_OPTION_TRACE\" VALUE=\"false\" />\n      <RAKE_RUN_CONFIG_SETTINGS_ID NAME=\"RAKE_TASK_OPTION_DRYRUN\" VALUE=\"false\" />\n      <RAKE_RUN_CONFIG_SETTINGS_ID NAME=\"RAKE_TASK_OPTION_PREREQS\" VALUE=\"false\" />\n      <RAKE_RUN_CONFIG_SETTINGS_ID NAME=\"RAKE_TASK_OPTION_TESTOPTS\" VALUE=\"\" />\n      <method v=\"2\" />\n    </configuration>\n    <configuration name=\"test: qldh\" type=\"RakeRunConfigurationType\" factoryName=\"Rake\">\n      <module name=\"qldh\" />\n      <RAKE_RUN_CONFIG_SETTINGS_ID NAME=\"RUBY_ARGS\" VALUE=\"\" />\n      <RAKE_RUN_CONFIG_SETTINGS_ID NAME=\"WORK DIR\" VALUE=\"$MODULE_DIR$\" />\n      <RAKE_RUN_CONFIG_SETTINGS_ID NAME=\"SHOULD_USE_SDK\" VALUE=\"false\" />\n      <RAKE_RUN_CONFIG_SETTINGS_ID NAME=\"ALTERN_SDK_NAME\" VALUE=\"\" />\n      <RAKE_RUN_CONFIG_SETTINGS_ID NAME=\"myPassParentEnvs\" VALUE=\"true\" />\n      <envs>\n        <env name=\"RAILS_ENV\" value=\"test\" />\n      </envs>\n      <EXTENSION ID=\"BundlerRunConfigurationExtension\" BUNDLE_MODE=\"AUTO\" bundleExecEnabled=\"true\" />\n      <EXTENSION ID=\"RubyCoverageRunConfigurationExtension\" track_test_folders=\"true\" runner=\"rcov\" ENABLE_BRANCH_COVERAGE=\"true\" ENABLE_FORKED_COVERAGE=\"true\">\n        <COVERAGE_PATTERN ENABLED=\"true\">\n          <PATTERN REGEXPS=\"/.rvm/\" INCLUDED=\"false\" />\n        </COVERAGE_PATTERN>\n      </EXTENSION>\n      <EXTENSION ID=\"org.jetbrains.plugins.ruby.rails.run.RailsRunConfigurationExtension\" SCRATCH_USE_RAILS_RUNNER=\"false\" />\n      <RAKE_RUN_CONFIG_SETTINGS_ID NAME=\"RAKE_TASK_NAME\" VALUE=\"test\" />\n      <RAKE_RUN_CONFIG_SETTINGS_ID NAME=\"RAKE_TASK_ARGS\" VALUE=\"\" />\n      <RAKE_RUN_CONFIG_SETTINGS_ID NAME=\"RAKE_TASK_ATTACHED_TEST_FRAMEWORKS\" VALUE=\":test_unit \" />\n      <RAKE_RUN_CONFIG_SETTINGS_ID NAME=\"RAKE_TASK_OPTION_TRACE\" VALUE=\"false\" />\n      <RAKE_RUN_CONFIG_SETTINGS_ID NAME=\"RAKE_TASK_OPTION_DRYRUN\" VALUE=\"false\" />\n      <RAKE_RUN_CONFIG_SETTINGS_ID NAME=\"RAKE_TASK_OPTION_PREREQS\" VALUE=\"false\" />\n      <RAKE_RUN_CONFIG_SETTINGS_ID NAME=\"RAKE_TASK_OPTION_TESTOPTS\" VALUE=\"\" />\n      <method v=\"2\" />\n    </configuration>\n  </component>\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\n  <component name=\"SpringUtil\" SPRING_PRE_LOADER_OPTION=\"true\" RAKE_SPRING_PRE_LOADER_OPTION=\"true\" RAILS_SPRING_PRE_LOADER_OPTION=\"true\" />\n  <component name=\"TaskManager\">\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\n      <changelist id=\"1230615a-ecf2-40c2-97ce-8e24bd551ebb\" name=\"Changes\" comment=\"\" />\n      <created>1668789358899</created>\n      <option name=\"number\" value=\"Default\" />\n      <option name=\"presentableId\" value=\"Default\" />\n      <updated>1668789358899</updated>\n      <workItem from=\"1668789360041\" duration=\"18773000\" />\n      <workItem from=\"1668876517720\" duration=\"26300000\" />\n      <workItem from=\"1668995378422\" duration=\"21666000\" />\n      <workItem from=\"1669042689531\" duration=\"8608000\" />\n      <workItem from=\"1669089016101\" duration=\"28913000\" />\n      <workItem from=\"1669211853195\" duration=\"7098000\" />\n      <workItem from=\"1669279149239\" duration=\"10251000\" />\n      <workItem from=\"1669347927152\" duration=\"3206000\" />\n    </task>\n    <task id=\"LOCAL-00001\" summary=\"update credential\">\n      <created>1669295983959</created>\n      <option name=\"number\" value=\"00001\" />\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1669295983959</updated>\n    </task>\n    <option name=\"localTasksCounter\" value=\"2\" />\n    <servers />\n  </component>\n  <component name=\"TypeScriptGeneratedFilesManager\">\n    <option name=\"version\" value=\"3\" />\n  </component>\n  <component name=\"Vcs.Log.Tabs.Properties\">\n    <option name=\"TAB_STATES\">\n      <map>\n        <entry key=\"MAIN\">\n          <value>\n            <State>\n              <option name=\"CUSTOM_BOOLEAN_PROPERTIES\">\n                <map>\n                  <entry key=\"Show.Git.Branches\" value=\"false\" />\n                </map>\n              </option>\n            </State>\n          </value>\n        </entry>\n      </map>\n    </option>\n  </component>\n  <component name=\"VcsManagerConfiguration\">\n    <MESSAGE value=\"update credential\" />\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"update credential\" />\n  </component>\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision b97de0e2d9585f67d4a96ab0e424039cb5101e6c)
+++ b/.idea/workspace.xml	(date 1669614145166)
@@ -3,7 +3,18 @@
   <component name="ChangeListManager">
     <list default="true" id="1230615a-ecf2-40c2-97ce-8e24bd551ebb" name="Changes" comment="update credential">
       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/Rakefile" beforeDir="false" afterPath="$PROJECT_DIR$/Rakefile" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/app/assets/stylesheets/application.bootstrap.scss" beforeDir="false" afterPath="$PROJECT_DIR$/app/assets/stylesheets/application.bootstrap.scss" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/app/controllers/apix_controller.rb" beforeDir="false" afterPath="$PROJECT_DIR$/app/controllers/apix_controller.rb" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/app/controllers/home_controller.rb" beforeDir="false" afterPath="$PROJECT_DIR$/app/controllers/home_controller.rb" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/app/javascript/controllers/index.js" beforeDir="false" afterPath="$PROJECT_DIR$/app/javascript/controllers/index.js" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/app/views/home/index.html.erb" beforeDir="false" afterPath="$PROJECT_DIR$/app/views/home/index.html.erb" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/app/views/home/new_order.html.erb" beforeDir="false" afterPath="$PROJECT_DIR$/app/views/home/new_order.html.erb" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/app/views/layouts/_sidebar.html.erb" beforeDir="false" afterPath="$PROJECT_DIR$/app/views/layouts/_sidebar.html.erb" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/app/views/layouts/application.html.erb" beforeDir="false" afterPath="$PROJECT_DIR$/app/views/layouts/application.html.erb" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/config/database.yml" beforeDir="false" afterPath="$PROJECT_DIR$/config/database.yml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/config/importmap.rb" beforeDir="false" afterPath="$PROJECT_DIR$/config/importmap.rb" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/config/routes.rb" beforeDir="false" afterPath="$PROJECT_DIR$/config/routes.rb" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
@@ -14,6 +25,7 @@
     <option name="RECENT_TEMPLATES">
       <list>
         <option value="ERB File" />
+        <option value="JavaScript File" />
       </list>
     </option>
   </component>
@@ -33,14 +45,16 @@
     &quot;RunOnceActivity.OpenProjectViewOnStart&quot;: &quot;true&quot;,
     &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,
     &quot;WebServerToolWindowFactoryState&quot;: &quot;false&quot;,
-    &quot;last_opened_file_path&quot;: &quot;/home/pixie/Desktop/qldh/lib/assets/images&quot;,
+    &quot;last_opened_file_path&quot;: &quot;/home/pixie/Desktop/qldh/app/javascript/libs&quot;,
     &quot;nodejs_package_manager_path&quot;: &quot;npm&quot;,
     &quot;ruby.rails.projectView.checked&quot;: &quot;true&quot;,
-    &quot;settings.editor.selected.configurable&quot;: &quot;preferences.lookFeel&quot;
+    &quot;settings.editor.selected.configurable&quot;: &quot;preferences.lookFeel&quot;,
+    &quot;ts.external.directory.path&quot;: &quot;/home/pixie/.local/share/JetBrains/Toolbox/apps/RubyMine/ch-0/222.3739.56/plugins/JavaScriptLanguage/jsLanguageServicesImpl/external&quot;
   }
 }</component>
   <component name="RecentsManager">
     <key name="CopyFile.RECENT_KEYS">
+      <recent name="$PROJECT_DIR$/app/javascript/libs" />
       <recent name="$PROJECT_DIR$/lib/assets/images" />
     </key>
     <key name="MoveFile.RECENT_KEYS">
@@ -163,7 +177,14 @@
       <workItem from="1669089016101" duration="28913000" />
       <workItem from="1669211853195" duration="7098000" />
       <workItem from="1669279149239" duration="10251000" />
-      <workItem from="1669347927152" duration="3206000" />
+      <workItem from="1669347927152" duration="8803000" />
+      <workItem from="1669440870011" duration="1238000" />
+      <workItem from="1669451213754" duration="912000" />
+      <workItem from="1669458484449" duration="15363000" />
+      <workItem from="1669517120136" duration="599000" />
+      <workItem from="1669522098936" duration="18505000" />
+      <workItem from="1669568398369" duration="2633000" />
+      <workItem from="1669603646007" duration="6529000" />
     </task>
     <task id="LOCAL-00001" summary="update credential">
       <created>1669295983959</created>
Index: app/views/home/index.html.erb
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+> <div class=\"content-wrapper\">\n    <!-- Content Header (Page header) -->\n    <div class=\"content-header\">\n\n      <div class=\"container-fluid\">\n        <div class=\"row mb-2\">\n\n        <div class=\"col-sm-6\">\n            <h1 class=\"m-0\">Dashboard</h1>\n        </div>\n\n        <div class=\"col-sm-6\">\n          <a href=\"<%= new_order_path %>\" type=\"button\" class=\"btn rounded-5 float-right plx\" style=\"background-color: #1462ff; color: rgb(245, 235, 216); border-radius: 12px;\">Tạo đơn &nbsp;&nbsp;&nbsp; <i class=\"fa-solid fa-solid fa-angle-right\"></i>\n            </a>\n        </div>\n\n        </div>\n      </div>\n\n    </div>\n    <!--/ Content Header -->\n\n\n    <!-- Main content -->\n    <section class=\"content\">\n      <div class=\"container-fluid\">\n        <!-- Small boxes -->\n        <div class=\"row\">\n          <div class=\"col-lg-3 col-6\">\n            <!-- small box -->\n            <div class=\"small-box bg-info\">\n              <div class=\"inner\">\n                <h3>0</h3>\n\n                <p>Đơn hàng mới</p>\n              </div>\n              <div class=\"icon\">\n                <i class=\"ion ion-bag\"></i>\n              </div>\n              <a href=\"#\" id=\"btn1\" class=\"small-box-footer\">Xem thêm <i class=\"fas fa-arrow-circle-right\"></i></a>\n            </div>\n          </div>\n          <!-- ./col -->\n          <div class=\"col-lg-3 col-6\">\n            <!-- small box -->\n            <div class=\"small-box bg-success\">\n              <div class=\"inner\">\n                <h3>0</h3>\n\n                <p>Đơn hàng đã chuẩn bị</p>\n              </div>\n              <div class=\"icon\">\n                <i class=\"ion ion-stats-bars\"></i>\n              </div>\n              <a href=\"#\" class=\"small-box-footer\">Xem thêm <i class=\"fas fa-arrow-circle-right\"></i></a>\n            </div>\n          </div>\n          <!-- ./col -->\n          <div class=\"col-lg-3 col-6\">\n            <!-- small box -->\n            <div class=\"small-box bg-warning\">\n              <div class=\"inner\">\n                <h3>0</h3>\n\n                <p>Đã Giao Thành Công</p>\n              </div>\n              <div class=\"icon\">\n                <i class=\"ion ion-person-add\"></i>\n              </div>\n              <a href=\"#\" class=\"small-box-footer\">Xem thêm <i class=\"fas fa-arrow-circle-right\"></i></a>\n            </div>\n          </div>\n          <!-- ./col -->\n          <div class=\"col-lg-3 col-6\">\n            <!-- small box -->\n            <div class=\"small-box bg-danger\">\n              <div class=\"inner\">\n                <h3>0</h3>\n\n                <p>Đã Thanh Toán</p>\n              </div>\n              <div class=\"icon\">\n                <i class=\"ion ion-pie-graph\"></i>\n              </div>\n              <a href=\"#\" class=\"small-box-footer\">Xem thêm <i class=\"fas fa-arrow-circle-right\"></i></a>\n            </div>\n          </div>\n          <!-- ./col -->\n        </div>\n        <!-- /.Small boxes -->\n\n        <!-- Main row -->\n\n        <!-- /.row (main row) -->\n      </div>\n    </section>\n    <!-- /.content -->\n  </div>\n\n  <style>\n\n.plk{\n  margin: 15px;\n}\n.plx:hover{\n  box-shadow: 0px 4px 5px 1px rgb(167, 217, 236);\n}\n</style>\n  <script>\n  window.onload = function () {\n    document.getElementById('side-home').classList.add('active');\n   };\n        $('#btn1').click(function (e) {\n        toastr.info('Lorem ipsum dolor.','',{\n            timeOut: 2000,\n            progressBar: true,\n            progressAnimation: 'increasing'\n        });\n        });\n        $('.small-box-footer').click(function (e){\n            e.preventDefault();\n        });\n\n  </script>\n\n\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/views/home/index.html.erb b/app/views/home/index.html.erb
--- a/app/views/home/index.html.erb	(revision b97de0e2d9585f67d4a96ab0e424039cb5101e6c)
+++ b/app/views/home/index.html.erb	(date 1669467781432)
@@ -107,9 +107,11 @@
 }
 </style>
   <script>
-  window.onload = function () {
-    document.getElementById('side-home').classList.add('active');
-   };
+  window.onload = turnOn();
+    function turnOn(){
+      $('#side-home').addClass('active');
+    }
+
         $('#btn1').click(function (e) {
         toastr.info('Lorem ipsum dolor.','',{
             timeOut: 2000,
Index: app/controllers/apix_controller.rb
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>class ApixController < ApplicationController\n  # protect_from_forgery with: :null_session\n  def testt\n    @number = params[:item_length].to_s.to_i\n    bb = add_ref\n    @orderinfo = Order.new(payment_method: params[:payment],total: params[:total],\n                           discount: params[:discount],shipping_cost: params[:shipping],\n                           status: \"Đơn Mới\", note: params[:note], completed_at: nil,\n                           customer_id: params[:customer_id],referrer_id: bb )\n    @orderinfo.save\n    pp = @orderinfo.id\n    add_items(pp,@number)\n\n    render json: {status: \"SUCCESS\", message: \"Fetched all the friends successfully\"}, status: :ok\n  end\n\n  def product_info\n    @prod = Product.find(params[:id])\n    if @prod != nil\n      render json: {status: true, prod: @prod}, status: :ok\n    else\n      render json: {status: false , message: \"Không thể lấy thông tin sản phẩm \"}, status: :ok\n\n    end\n  end\n\n  def phone_check\n        @cus = Customer.find_by_phone(params[:phone])\n        if @cus == nil\n          render json: {status: true, message: \"Có Thể Sử Dụng Điện Thoại này \"}, status: :ok\n        else\n          render json: {status: false,customer: @cus, message: \"Đã Có Người Sử Dụng\"}, status: :ok\n        end\n  end\n\n  def ref_phone_check\n    @ref = Referrer.find_by_phone(params[:phone])\n    if @ref == nil\n      render json: {status: true, message: \"Người Giới Thiệu Mới \"}, status: :ok\n    else\n      render json: {status: false,ref: @ref, message: \"Người Giới Thiệu Cũ\"}, status: :ok\n    end\n  end\n\n  def customer_check\n    customer_address_params\n    msg = [\"Đã tạo địa chỉ thành công cho KH\",\"Địa chỉ cũ Cho KH\"]\n    if @cus_id == 0\n      @new_customer = Customer.new(name: @name.to_s,phone: @phone)\n      @new_customer.save\n\n      create_address(@new_customer.id)\n\n      render json: {customer: @new_customer ,message: msg[0]}, status: :ok\n    else\n\n      @old_cus = Customer.find(@cus_id)\n      if @old_address == 0\n        create_address(@old_cus.id)\n        render json: {customer: @old_cus ,message: msg[0]}, status: :ok\n      else\n        render json: {customer: @old_cus ,message: msg[1]}, status: :ok\n      end\n\n    end\n\n  end\n\n  private\n  def customer_address_params\n    @cus_id = params[:oldCusID].to_s.to_i\n    @old_address = params[:oldAdress].to_s.to_i\n    @name = params[:name].to_s\n    @phone = params[:phone].to_s\n    @prov = params[:province].to_s.split('-')[1]\n    @dist = params[:district].to_s.split('-')[1]\n    @ward = params[:ward].to_s.split('-')[1]\n    @street = params[:street].to_s\n  end\n\n  def add_items(order_id,number_item)\n    @items = params[:items]\n\n    number_item.times do |i|\n      @product = LineItem.new(quantity: @items.values[i][:prodQty],\n                          price: @items.values[i][:prodPrice],\n                          product_id: @items.values[i][:prodID],\n                          order_id: order_id)\n      @product.save\n    end\n  end\n\n  def cus_id(custom_id)\n    cust = Customer.find(custom_id)\n    return  cust.id\n  end\n\n  def add_ref\n    if params[:orderrefID].to_s.to_i == 0\n      @ref = Referrer.new(name: params[:refname].to_s,phone: params[:refphone].to_s.to_i,banking_informations:params[:refbank])\n      @ref.save\n    else\n      @ref = Referrer.find(params[:orderrefID].to_s.to_i)\n    end\n    return @ref.id\n  end\n\n  def create_address(cust_id)\n    @customer_address = Address.new(province_city:@prov,district: @dist,\n                                    ward: @ward,street: @street,customer_id: cust_id )\n    @customer_address.save\n    p @customer_address\n  end\n\nend\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/controllers/apix_controller.rb b/app/controllers/apix_controller.rb
--- a/app/controllers/apix_controller.rb	(revision b97de0e2d9585f67d4a96ab0e424039cb5101e6c)
+++ b/app/controllers/apix_controller.rb	(date 1669612637716)
@@ -1,6 +1,6 @@
 class ApixController < ApplicationController
   # protect_from_forgery with: :null_session
-  def testt
+  def add_order
     @number = params[:item_length].to_s.to_i
     bb = add_ref
     @orderinfo = Order.new(payment_method: params[:payment],total: params[:total],
@@ -66,6 +66,17 @@
 
   end
 
+
+
+  #For Product
+
+  def add_prod
+    @product = Product.new(name: params[:pname],price: params[:pprice],volume: params[:pvol])
+    @product.save
+    render json: {prod: @product ,message: "Thêm Sản Phẩm Thành Công"}, status: :ok
+
+  end
+
   private
   def customer_address_params
     @cus_id = params[:oldCusID].to_s.to_i
